BasedOnStyle: Microsoft
BreakBeforeBraces: Allman
IndentWidth: 4
ColumnLimit: 250

# ---- CRITICAL: PRESERVE INCLUDE ORDER ----
SortIncludes: CaseSensitive
IncludeBlocks: Preserve
IncludeCategories:
  - Regex:           'NOWAPrecompiled\.h'
    Priority:        -1  # Always first
  - Regex:           '.*'
    Priority:        1

# ---- SAFER BRACE SETTINGS ----
InsertBraces: true  # Manual control - auto-insert can break macros
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AllowShortBlocksOnASingleLine: Never
AllowShortLambdasOnASingleLine: None

# ---- SPACING ----
PointerAlignment: Left
SpaceBeforeParens: ControlStatements
SpacesInParentheses: false
SpacesInSquareBrackets: false
SpaceAfterCStyleCast: false
SpaceBeforeAssignmentOperators: true
BreakBeforeBinaryOperators: None

# ---- INDENTATION ----
NamespaceIndentation: None  # Avoid deep indentation issues
IndentAccessModifiers: false
AccessModifierOffset: -4

# ---- NAMESPACE COMMENTS ----
FixNamespaceComments: false  # Don't auto-add/modify namespace closing comments

BraceWrapping:
  AfterClass: true
  AfterControlStatement: Always
  AfterEnum: true
  AfterFunction: true
  AfterNamespace: true
  AfterStruct: true
  AfterUnion: true
  BeforeCatch: true
  BeforeElse: true
  IndentBraces: false

BreakConstructorInitializers: AfterColon
ConstructorInitializerAllOnOneLineOrOnePerLine: true
AllowAllConstructorInitializersOnNextLine: false
